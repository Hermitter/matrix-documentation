env:
  global:
    - secure: "eJh2SVVn7OB7G0cD3fQm2bqq5RvabrSNMRsXHU5mRACWhIqW4SAJ1UfBz8nBh0A44KVEV7cc4JwH+lfbK1KO54jie17Jmq3tVSFYjX6w7HqwcbLcOEiDyRu64CXJjNubNI3Np3QLVMfFIOghf8uaztt5TEL8KtM1L+6yn9T29hdCowfmRc72XInBYBNOAfA+Dh24mEOfnHa7TovH9GqTwtOKKWHwQ5FXGXmY31lmXFDziqYiL6mZdRt6GR9CgMtR5mnN2MkFN4GsqpP+17XpMjlw2+3j6ZCq/9QgYA+JtvP9ArN1j3XKRCsE0eAbcNW26oPWCDcNpXbvN/B0LBe0Trw7eL0a7BoqSMCdzgkCp3/wcZHQVwf7+QiVvefYj/YPPEUlW9L/aOWVJm7zQHQmOKxusdalGyKjCE4Va2nVedtbs1d0aABzBxWbPpO6KD8o6NV6S1JWeuZ64a0uX5ChfIMG6enssFkUCEdpmXeMyZ0sfc9HuMXbMEHpVCHIDWQrlwCUwBsq4eCAtiK4LJAgK3aDxE6hB4Ra6wchbbk6n6Iqq3mhwGa874WfPCictC5l6wgavZ6zqxIxGdO0YSbmOQXE79Z6ZMLEcC0GVhTUxgXG4DOmPFA4aLeTNxwnfVF3G4WU77ou/IC8HtYEslRFr3vWXTBTzTTX2CII1THV3oo="

before_install:
  - openssl aes-256-cbc -K $encrypted_f4e9782a8fc3_key -iv $encrypted_f4e9782a8fc3_iv -in super_secret.txt.enc -out super_secret.txt -d

language: python
python:
  - "2.7"

install:
  - pip install -r requirements.txt

# Don't email me the results of the test runs.
notifications:
  email: false

script: mkdocs build

deploy:
  provider: pages
  skip-cleanup: true
  keep-history: true
  local-dir: ./site
  on:
    branch: master

# run after tests successfully finish
after_success:
  - |

       $(npm bin)/set-up-ssh --key "$encrypted_f4e9782a8fc3_key" \
                             --iv "$encrypted_f4e9782a8fc3_iv" \
                             --path-encrypted-key ".travis/super_secret.txt.enc"