<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Troubleshooting - MATRIX</title>
        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="../..">MATRIX</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="../..">Overview</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">MATRIX Creator <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../overview/">Overview</a>
</li>
                                    
<li >
    <a href="../device-setup/">Device Setup</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Resources</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../resources/overview/">Overview</a>
</li>
            
<li >
    <a href="../resources/pinout/">Pinout</a>
</li>
            
<li >
    <a href="../resources/microphone/">Microphones</a>
</li>
            
<li >
    <a href="../resources/reference-models/">Reference Models</a>
</li>
            
<li >
    <a href="../resources/system-architecture/">System Architecture</a>
</li>
            
<li >
    <a href="../resources/technical-datasheets/">Technical Datasheets</a>
</li>
            
<li >
    <a href="../resources/mcu/">MCU</a>
</li>
            
<li >
    <a href="../resources/fpga/">FPGA</a>
</li>
    </ul>
  </li>
                                    
<li class="active">
    <a href="./">Troubleshooting</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">MATRIX Voice <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../matrix-voice/overview/">Overview</a>
</li>
                                    
<li >
    <a href="../../matrix-voice/device-setup/">Device Setup</a>
</li>
                                    
<li >
    <a href="../../matrix-voice/esp32/">ESP32</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Resources</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../matrix-voice/resources/overview/">Overview</a>
</li>
            
<li >
    <a href="../../matrix-voice/resources/pinout/">Pinout</a>
</li>
            
<li >
    <a href="../../matrix-voice/resources/microphone/">Microphones</a>
</li>
            
<li >
    <a href="../../matrix-voice/resources/reference-models/">Reference Models</a>
</li>
            
<li >
    <a href="../../matrix-voice/resources/system-architecture/">System Architecture</a>
</li>
            
<li >
    <a href="../../matrix-voice/resources/technical-datasheets/">Technical Datasheets</a>
</li>
            
<li >
    <a href="../../matrix-voice/resources/fpga/">FPGA</a>
</li>
    </ul>
  </li>
                                    
<li >
    <a href="../../matrix-voice/troubleshooting/">Troubleshooting</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">MATRIX OS <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../matrix-os/overview/">Overview</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Getting Started</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../matrix-os/getting-started/">Index</a>
</li>
            
<li >
    <a href="../../matrix-os/getting-started/installation/">Installation</a>
</li>
            
<li >
    <a href="../../matrix-os/getting-started/applications/">Applications</a>
</li>
            
<li >
    <a href="../../matrix-os/getting-started/publishing/">Publishing Apps</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Reference</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../matrix-os/reference/">Index</a>
</li>
            
<li >
    <a href="../../matrix-os/reference/sensors/">Sensors</a>
</li>
            
<li >
    <a href="../../matrix-os/reference/leds/">Everloop</a>
</li>
            
<li >
    <a href="../../matrix-os/reference/configuration/">Config.yaml</a>
</li>
            
<li >
    <a href="../../matrix-os/reference/cli-tool/">CLI Tool</a>
</li>
            
<li >
    <a href="../../matrix-os/reference/dashboard/">Dashboard</a>
</li>
            
<li >
    <a href="../../matrix-os/reference/widgets/">Widgets</a>
</li>
            
<li >
    <a href="../../matrix-os/reference/crosstalk/">Cross Talk</a>
</li>
            
<li >
    <a href="../../matrix-os/reference/data-types/">Data Types</a>
</li>
            
<li >
    <a href="../../matrix-os/reference/system/">System Methods</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Examples</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../matrix-os/examples/">Examples</a>
</li>
            
<li >
    <a href="../../matrix-os/examples/dash-create/">Dashboard</a>
</li>
    </ul>
  </li>
                                    
<li >
    <a href="../../matrix-os/troubleshooting/">Troubleshooting</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">MATRIX CORE <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../matrix-core/overview/">Overview</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Getting Started</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../matrix-core/getting-started/">Index</a>
</li>
            
<li >
    <a href="../../matrix-core/getting-started/core-installation/">Installation</a>
</li>
            
<li >
    <a href="../../matrix-core/getting-started/understanding-core/">Understanding CORE</a>
</li>
            
<li >
    <a href="../../matrix-core/getting-started/javascript-installation/">Javascript Setup</a>
</li>
            
<li >
    <a href="../../matrix-core/getting-started/python-installation/">Python Setup</a>
</li>
            
<li >
    <a href="../../matrix-core/getting-started/golang-installation/">Golang Setup</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Driver Protocols</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../matrix-core/protocols/">Index</a>
</li>
            
<li >
    <a href="../../matrix-core/protocols/everloop/">Everloop</a>
</li>
            
<li >
    <a href="../../matrix-core/protocols/humidity/">Humidity</a>
</li>
            
<li >
    <a href="../../matrix-core/protocols/imu/">IMU</a>
</li>
            
<li >
    <a href="../../matrix-core/protocols/pressure/">Pressure</a>
</li>
            
<li >
    <a href="../../matrix-core/protocols/uv/">UV</a>
</li>
            
<li >
    <a href="../../matrix-core/protocols/servo/">Servo</a>
</li>
            
<li >
    <a href="../../matrix-core/protocols/gpio/">GPIO</a>
</li>
            
<li >
    <a href="../../matrix-core/protocols/wakeword/">Wakeword</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Javascript Examples</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../matrix-core/javascript-examples/">Index</a>
</li>
            
<li >
    <a href="../../matrix-core/javascript-examples/everloop/">Everloop</a>
</li>
            
<li >
    <a href="../../matrix-core/javascript-examples/humidity/">Humidity</a>
</li>
            
<li >
    <a href="../../matrix-core/javascript-examples/imu/">IMU</a>
</li>
            
<li >
    <a href="../../matrix-core/javascript-examples/pressure/">Pressure</a>
</li>
            
<li >
    <a href="../../matrix-core/javascript-examples/uv/">UV</a>
</li>
            
<li >
    <a href="../../matrix-core/javascript-examples/servo/">Servo</a>
</li>
            
<li >
    <a href="../../matrix-core/javascript-examples/gpio/">GPIO</a>
</li>
            
<li >
    <a href="../../matrix-core/javascript-examples/wakeword/">Wakeword</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Python Examples</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../matrix-core/python-examples/">Index</a>
</li>
            
<li >
    <a href="../../matrix-core/python-examples/everloop/">Everloop</a>
</li>
            
<li >
    <a href="../../matrix-core/python-examples/humidity/">Humidity</a>
</li>
            
<li >
    <a href="../../matrix-core/python-examples/imu/">IMU</a>
</li>
            
<li >
    <a href="../../matrix-core/python-examples/pressure/">Pressure</a>
</li>
            
<li >
    <a href="../../matrix-core/python-examples/uv/">UV</a>
</li>
            
<li >
    <a href="../../matrix-core/python-examples/servo/">Servo</a>
</li>
            
<li >
    <a href="../../matrix-core/python-examples/gpio/">GPIO</a>
</li>
            
<li >
    <a href="../../matrix-core/python-examples/wakeword/">Wakeword</a>
</li>
    </ul>
  </li>
                                    
<li >
    <a href="../../matrix-core/troubleshooting/">Troubleshooting</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">MATRIX HAL <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../matrix-hal/overview/">Overview</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Getting Started</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../matrix-hal/getting-started/">Index</a>
</li>
            
<li >
    <a href="../../matrix-hal/getting-started/installation-package/">Installation From Package</a>
</li>
            
<li >
    <a href="../../matrix-hal/getting-started/installation-source/">Installation From Source</a>
</li>
            
<li >
    <a href="../../matrix-hal/getting-started/programs/">Compiling Programs</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">References</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../matrix-hal/reference/">Index</a>
</li>
            
<li >
    <a href="../../matrix-hal/reference/everloop/">Everloop</a>
</li>
            
<li >
    <a href="../../matrix-hal/reference/humidity/">Humidity</a>
</li>
            
<li >
    <a href="../../matrix-hal/reference/imu/">IMU</a>
</li>
            
<li >
    <a href="../../matrix-hal/reference/pressure/">Pressure</a>
</li>
            
<li >
    <a href="../../matrix-hal/reference/uv/">UV</a>
</li>
            
<li >
    <a href="../../matrix-hal/reference/gpio/">GPIO</a>
</li>
            
<li >
    <a href="../../matrix-hal/reference/microphone/">Microphone</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Examples</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../matrix-hal/examples/">Index</a>
</li>
            
<li >
    <a href="../../matrix-hal/examples/everloop/">Everloop</a>
</li>
            
<li >
    <a href="../../matrix-hal/examples/humidity/">Humidity</a>
</li>
            
<li >
    <a href="../../matrix-hal/examples/imu/">IMU</a>
</li>
            
<li >
    <a href="../../matrix-hal/examples/pressure/">Pressure</a>
</li>
            
<li >
    <a href="../../matrix-hal/examples/uv/">UV</a>
</li>
            
<li >
    <a href="../../matrix-hal/examples/gpio/">GPIO</a>
</li>
            
<li >
    <a href="../../matrix-hal/examples/microphone/">Microphone</a>
</li>
    </ul>
  </li>
                                    
<li >
    <a href="../../matrix-hal/troubleshooting/">Troubleshooting</a>
</li>
                                </ul>
                            </li>
                            <li >
                                <a href="../../help/">Support</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="../resources/fpga/">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../../matrix-voice/overview/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#community">Community</a></li>
        <li class="main "><a href="#reinstall-matrix-init-package-and-reflash-fpga-and-mcu">Reinstall MATRIX Init Package and Reflash FPGA and MCU</a></li>
        <li class="main "><a href="#reinstall-matrix-kernel-modules">Reinstall MATRIX Kernel Modules</a></li>
        <li class="main "><a href="#check-raspberry-pi-gpio">Check Raspberry Pi GPIO</a></li>
        <li class="main "><a href="#hardware-tests">Hardware Tests</a></li>
            <li><a href="#matrix-init-script">Matrix Init Script</a></li>
            <li><a href="#fpga-info">FPGA Info</a></li>
            <li><a href="#fpga-flash">FPGA Flash</a></li>
            <li><a href="#test-other-components">Test Other Components</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h2 id="community">Community</h2>
<p>Please visit our community support forums at
<a href="http://community.matrix.one/" target="_blank">community.matrix.one</a></p>
<h2 id="reinstall-matrix-init-package-and-reflash-fpga-and-mcu">Reinstall MATRIX Init Package and Reflash FPGA and MCU</h2>
<p>If you experience strange behavior, reinstall the MATRIX init package and reflash FPGA and MCU.</p>
<p>Uninstall the <code>matrixio-creator-init</code> package.</p>
<pre><code class="language-bash">sudo apt-get --purge remove matrixio-creator-init
</code></pre>

<p>Reboot your device.</p>
<pre><code class="language-bash">sudo reboot
</code></pre>

<p>Add the MATRIX repository and key.</p>
<pre><code class="language-bash">curl https://apt.matrix.one/doc/apt-key.gpg | sudo apt-key add -
echo &quot;deb https://apt.matrix.one/raspbian $(lsb_release -sc) main&quot; | sudo tee /etc/apt/sources.list.d/matrixlabs.list
</code></pre>

<p>Update your repository and packages.</p>
<pre><code class="language-bash">sudo apt-get update
sudo apt-get upgrade
</code></pre>

<p>Install the <code>matrixio-creator-init</code> package.</p>
<pre><code class="language-bash">sudo apt-get install matrixio-creator-init
</code></pre>

<p>Reboot your device.</p>
<pre><code class="language-bash">sudo reboot
</code></pre>

<blockquote>
<p>FPGA will be reflashed with stock firmware.</p>
</blockquote>
<p>Now you can flash the FPGA.</p>
<p>Reset the FPGA.</p>
<pre><code class="language-bash">echo 18 &gt; /sys/class/gpio/export 2&gt;/dev/null
echo out &gt; /sys/class/gpio/gpio18/direction
echo 1 &gt; /sys/class/gpio/gpio18/value
echo 0 &gt; /sys/class/gpio/gpio18/value
echo 1 &gt; /sys/class/gpio/gpio18/value
</code></pre>

<p>Flash the FPGA.</p>
<pre><code class="language-bash">cd /usr/share/matrixlabs/matrixio-devices/
xc3sprog -c matrix_creator blob/system_creator.bit -p 1
</code></pre>

<p>You should receive the following.</p>
<pre><code class="language-bash">XC3SPROG (c) 2004-2011 xc3sprog project $Rev: 774 $ OS: Linux
Free software: If you contribute nothing, expect nothing!
Feedback on success/failure/enhancement requests:
        http://sourceforge.net/mail/?group_id=170565
Check Sourceforge for updates:
        http://sourceforge.net/projects/xc3sprog/develop

DNA is 0x99a9bca3325faafd
</code></pre>

<p>Reset the FPGA.</p>
<pre><code class="language-bash">echo 26 &gt; /sys/class/gpio/export 2&gt;/dev/null
echo out &gt; /sys/class/gpio/gpio26/direction  
echo 1 &gt; /sys/class/gpio/gpio26/value  
echo 0 &gt; /sys/class/gpio/gpio26/value  
echo 1 &gt; /sys/class/gpio/gpio26/value
</code></pre>

<blockquote>
<p>MCU will be reflashed with stock firmware.</p>
</blockquote>
<p>Now you can flash the MCU.</p>
<pre><code class="language-bash">cd /usr/share/matrixlabs/matrixio-devices/
sudo openocd -f cfg/sam3s_rpi_sysfs.cfg
</code></pre>

<p>The last part of the <code>openocd</code> flashing command output should be the following.</p>
<pre><code class="language-bash">flash 'at91sam3' found at 0x00400000
wrote 36636 bytes from file blob/ch.bin to flash bank 0 at offset 0x00000000 in 4.665386s (7.669 KiB/s)
Info : JTAG tap: em358.cpu tap/device found: 0x3ba00477 (mfg: 0x23b (ARM Ltd.), part: 0xba00, ver: 0x3)
Info : JTAG tap: em357.bs tap/device found: 0x069aa62b (mfg: 0x315 (Ember Corporation), part: 0x69aa, ver: 0x0)Info : JTAG tap: xc6sxl4.fpga.fpga tap/device found: 0x24000093 (mfg: 0x049 (Xilinx), part: 0x4000, ver: 0x2)
Info : JTAG tap: sam3n.cpu.cpu tap/device found: 0x4ba00477 (mfg: 0x23b (ARM Ltd.), part: 0xba00, ver: 0x4)
Warn : Only resetting the Cortex-M core, use a reset-init event handler to reset any peripherals or configure hardware srst support.
shutdown command invoked
</code></pre>

<p>Power off your device.</p>
<pre><code class="language-bash">sudo poweroff
</code></pre>

<p>Wait until the green led on your Raspberry Pi blinks 10 times, then unplug the power cable from your Raspberry Pi.</p>
<p>Plug the power cable back into your Raspberry Pi.</p>
<h2 id="reinstall-matrix-kernel-modules">Reinstall MATRIX Kernel Modules</h2>
<p>If you experience strange behavior, reinstall the MATRIX kernel modules.</p>
<p>Uninstall the <code>matrixio-kernel-modules</code> package.</p>
<pre><code class="language-bash">sudo apt-get --purge remove matrixio-kernel-modules
</code></pre>

<p>Reboot your device.</p>
<pre><code class="language-bash">sudo reboot
</code></pre>

<p>Add the MATRIX repository and key.</p>
<pre><code class="language-bash">curl https://apt.matrix.one/doc/apt-key.gpg | sudo apt-key add -
echo &quot;deb https://apt.matrix.one/raspbian $(lsb_release -sc) main&quot; | sudo tee /etc/apt/sources.list.d/matrixlabs.list
</code></pre>

<p>Update your repository and packages.</p>
<pre><code class="language-bash">sudo apt-get update
sudo apt-get upgrade
</code></pre>

<p>Install the <code>matrixio-kernel-modules</code> package.</p>
<pre><code class="language-bash">sudo apt-get install matrixio-kernel-modules
</code></pre>

<p>Reboot your device.</p>
<pre><code class="language-bash">sudo reboot
</code></pre>

<h2 id="check-raspberry-pi-gpio">Check Raspberry Pi GPIO</h2>
<p>If you experience strange behavior, check the Raspberry Pi GPIO.</p>
<pre><code class="language-bash">sudo cat /sys/kernel/debug/gpio
</code></pre>

<p>You should receive the following.</p>
<pre><code class="language-bash">gpiochip0: GPIOs 0-53, parent: platform/3f200000.gpio, pinctrl-bcm2835:
 gpio-4   (                    |sysfs               ) in  hi
 gpio-16  (                    |sysfs               ) out lo
 gpio-17  (                    |sysfs               ) in  hi
 gpio-18  (                    |sysfs               ) out hi
 gpio-19  (                    |sysfs               ) out hi
 gpio-20  (                    |sysfs               ) out hi
 gpio-21  (                    |sysfs               ) out hi
 gpio-22  (                    |sysfs               ) in  lo
 gpio-23  (                    |sysfs               ) out hi
 gpio-27  (                    |sysfs               ) in  hi
</code></pre>

<p>If <code>sysfs</code> above is replaced with <code>w1</code>, use raspi-config to disable the 1-Wire interface.</p>
<pre><code class="language-bash">sudo raspi-config
</code></pre>

<p>Inside raspi-config, navigate to <code>Interfacing Options</code> &gt;&gt; <code>1-Wire</code> &gt;&gt; <code>NO</code>.</p>
<h2 id="hardware-tests">Hardware Tests</h2>
<p>These tests will check if your MATRIX Creator is functioning properly.</p>
<p>We first need to install matrixio-creator-init, which handles the flashing of FPGA.</p>
<p>Add the MATRIX repository and key.</p>
<pre><code class="language-bash">curl https://apt.matrix.one/doc/apt-key.gpg | sudo apt-key add -
echo &quot;deb https://apt.matrix.one/raspbian $(lsb_release -sc) main&quot; | sudo tee /etc/apt/sources.list.d/matrixlabs.list
</code></pre>

<p>Update your repository and packages.</p>
<pre><code class="language-bash">sudo apt-get update
sudo apt-get upgrade
</code></pre>

<p>Install the MATRIX init package.</p>
<pre><code class="language-bash">sudo apt-get install matrixio-creator-init
</code></pre>

<p>Reboot your device.</p>
<pre><code class="language-bash">sudo reboot
</code></pre>

<h3 id="matrix-init-script">Matrix Init Script</h3>
<p>After the reboot, run the matrix init script manually.</p>
<pre><code class="language-bash">sudo /usr/share/matrixlabs/matrixio-devices/matrix-init.bash
</code></pre>

<p>You should receive the following.</p>
<pre><code class="language-bash">**** MATRIX Creator FPGA has been programmed!
INFO: [/dev/spidev0.0] was opened
FPGA IDENTIFY = 5c344e8
FPGA VERSION = 1000a
*** MATRIX Creator initial process has been launched
*** Running the program instead of the bootloader
EM358 MCU was programmed before. Not programming it again.
Running the program instead of the bootloader
SAM3 MCU was programmed before. Not programming it again.
</code></pre>

<p>If you have the matrixio-kernel-modules installed, you should receive this instead.</p>
<pre><code class="language-bash">**** MATRIX Creator FPGA has been programmed!
INFO: [/dev/matrixio_regmap] was opened
FPGA IDENTIFY = 5c344e8
FPGA VERSION = 1000a
*** MATRIX Creator initial process has been launched
*** Running the program instead of the bootloader
EM358 MCU was programmed before. Not programming it again.
Running the program instead of the bootloader
SAM3 MCU was programmed before. Not programming it again.
</code></pre>

<h3 id="fpga-info">FPGA Info</h3>
<p>This program checks the fpga info.</p>
<pre><code class="language-bash">sudo /usr/share/matrixlabs/matrixio-devices/fpga_info
</code></pre>

<p>You should receive the following.</p>
<pre><code class="language-bash">INFO: [/dev/spidev0.0] was opened
FPGA IDENTIFY = 5c344e8
FPGA VERSION = 1000a
</code></pre>

<p>If you have the matrixio-kernel-modules installed, you should receive this instead.</p>
<pre><code class="language-bash">INFO: [/dev/matrixio_regmap] was opened
FPGA IDENTIFY = 5c344e8
FPGA VERSION = 1000a
</code></pre>

<h3 id="fpga-flash">FPGA Flash</h3>
<p>If you donâ€™t get the proper FPGA info you will need to run the FPGA flashing process.</p>
<pre><code class="language-bash">cd /usr/share/matrixlabs/matrixio-devices/
sudo ./fpga-program.bash
</code></pre>

<p>You should receive the following.</p>
<pre><code class="language-bash">**** MATRIX Creator FPGA has been programmed!
INFO: [/dev/spidev0.0] was opened
FPGA IDENTIFY = 5c344e8
FPGA VERSION = 1000a
</code></pre>

<p>If you have the matrixio-kernel-modules installed, you should receive this instead.</p>
<pre><code class="language-bash">**** MATRIX Creator FPGA has been programmed!
INFO: [/dev/matrixio_regmap] was opened
FPGA IDENTIFY = 5c344e8
FPGA VERSION = 1000a
</code></pre>

<p>If you get <code>**** Could not program FPGA</code>, please <a href="https://community.matrix.one" target="_blank">contact us</a></h3>.</p>
<h3 id="test-other-components">Test Other Components</h3>
<p><a href="/matrix-hal/getting-started/installation-package/" target="_blank">Install MATRIX HAL </a> and test other components such as the microphone array using the <a href="/matrix-hal/examples/" target="_blank">MATRIX HAL examples</a>.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"search": 83, "next": 78, "help": 191, "previous": 80};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
